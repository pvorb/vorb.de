<!DOCTYPE html>
<html lang="de" id="top">
  <head>
    <meta charset="utf-8">
    <title>Über Subpixel | vorba.ch</title>
    <link rel="stylesheet" href="/res/milten.css">
    <link rel="icon" href="/favicon.ico">
    <link rel="alternate" type="application/atom+xml" href="/feed.xml"
      title="Artikel-Feed">
    <meta name="author" content="Paul Vorbach">

    <meta name="keywords" content="deutsch, ux, typography, dev, scala">

  </head>
  <body>
    <header id="site">
      <a href="/" accesskey="h">vorba.ch</a>
    </header>
    <nav id="nav">
      <ol id="path">
        <li><a href="/">vorba.ch</a>

        <li><a href="/archive.html#yr-2012">2012</a>

        <li>subpixel.html

      </ol>
      <ol id="access">
        <li><a href="#top" title="Zum Anfang" id="back" accesskey="t">↑</a>
        <li><a href="#nav">Navigation</a>
        <li><a href="#content">Inhalt</a>
        <li><a href="#comments" accesskey="c">Kommentare</a>
      </ol>
    </nav>
    <article id="content">
      <header>
        <h1>Über Subpixel</h1>
        <p class="meta">von <span class="author">Paul Vorbach</span>, <span class="created">08.12.2012</span></p>

        <figure class="teaser">
          <img src="subpixel.png">
        </figure>

      </header>
      <section>
        <p>Zum Thema Subpixel-Rendering von Fonts auf Rasterbildschirmen ist vor kurzem <a href="http://www.webkrauts.de/artikel/2012/techniken-zur-schriftglaettung-rasterizer">ein Artikel</a> im <a href="http://www.webkrauts.de/serien/adventskalender/2012">Webkrauts-Adventskalender</a> erschienen.</p>
<p><a href="http://www.webkrauts.de/comment/3748#comment-3748">In einem Kommentar</a> regt sich ein Leser darüber auf, dass das Beispielbild zur Subpixel-Glättung schlecht gewählt ist. Es wird nicht deutlich, dass die verschiedenen Farben bei üblichen Display-Panels horizontal nebeneinander angeordnet sind und durch diese Anordnung theoretisch die dreifache Auflösung erreicht werden kann.</p>
<div class="figure">
<img src="/log/2012/12/raster-subpixel.png" alt="Subpixel-Beispiel" /><p class="caption">Subpixel-Beispiel</p>
</div>
<p>Da es gar nicht so ohne weiteres Möglich ist, einen Screenshot so zu vergrößern, dass die Subpixel sichtbar werden, habe ich ein Programm dafür geschrieben: <a href="https://github.com/pvorb/subpixel-illustrator">Subpixel Illustrator</a>. Damit lässt sich ein Screenshot im PNG-Format öffnen und vergrößern.</p>
<p>Der Kern des Programms ist, dank Scala, recht kurz:</p>
<pre class="sourceCode scala"><code class="sourceCode scala"><span class="kw">def</span> <span class="fu">scaleUp</span>(input: BufferedImage, factor: Int) = {
  <span class="fu">require</span>(factor &gt; <span class="dv">1</span>, <span class="st">&quot;factor not greater than one&quot;</span>)
  <span class="fu">require</span>(factor % <span class="dv">3</span> == <span class="dv">0</span>,
    <span class="st">&quot;factor not divisible by three&quot;</span>)

  <span class="kw">val</span> width = input.<span class="fu">getWidth</span>
  <span class="kw">val</span> height = input.<span class="fu">getHeight</span>
  <span class="kw">val</span> step = factor / <span class="dv">3</span>

  <span class="co">// Erzeuge leeres Bild mit `factor`-facher Größe</span>
  <span class="kw">val</span> out = <span class="kw">new</span> BufferedImage(input.<span class="fu">getWidth</span> * factor,
    input.<span class="fu">getHeight</span> * factor,
    BufferedImage.<span class="fu">TYPE_INT_RGB</span>)

  <span class="co">// Durchlaufe das Bild Zeilenweise, von links nach</span>
  <span class="co">// rechts</span>
  <span class="kw">for</span> {
    _y &lt;- <span class="dv">0</span> until height
    (yMin, yMax) = (_y * factor, (_y + <span class="dv">1</span>) * factor)
                              <span class="co">// Vergrößere Ausschnitt</span>
    _x &lt;- <span class="dv">0</span> until width
    (xMin, xMax) = (_x * factor, (_x + <span class="dv">1</span>) * factor)
                              <span class="co">// Vergrößere Ausschnitt</span>
    _rgb = input.<span class="fu">getRGB</span>(_x, _y)
                              <span class="co">// Lies RGB-Wert</span>
    y &lt;- yMin until yMax
    x &lt;- xMin until xMax
    component = {
      <span class="kw">if</span> (x &lt; xMin + step) _rgb &amp;&amp; <span class="bn">0xFF0000</span>
                              <span class="co">// Maskiere Rotanteil</span>
      <span class="kw">else</span> <span class="kw">if</span> (xMax - step &lt;= x) _rgb &amp;&amp; <span class="bn">0x0000FF</span>
                              <span class="co">// Maskiere Blauanteil</span>
      <span class="kw">else</span> _rgb &amp;&amp; <span class="bn">0x00FF00</span>
                              <span class="co">// Maskiere Grünanteil</span>
    }
  } {
    out.<span class="fu">setRGB</span>(x, y, component)
                              <span class="co">// Setze neuen Farbwert</span>
  }

  out
}</code></pre>
<div class="figure">
<img src="/log/2012/12/raster-subpixel-improved.png" alt="Das Ergebnis mit 15-facher Vergrößerung" /><p class="caption">Das Ergebnis mit 15-facher Vergrößerung</p>
</div>

      </section>
      <footer class="meta">
        <p>Kategorien:

          <a href="/tag/deutsch.html">deutsch</a> ·

          <a href="/tag/ux.html">ux</a> ·

          <a href="/tag/typography.html">typography</a> ·

          <a href="/tag/dev.html">dev</a> ·

          <a href="/tag/scala.html">scala</a> 

        </p>

      </footer>
    </article>
    <section id="comments">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'vorbach';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Bitte aktivieren Sie JavaScript, um die Kommentare zu sehen.</noscript>
    </section>
    <aside id="extra">
      <form id="sf" action="/search.html" method="GET">
        <input type="search" name="s" accesskey="s" placeholder="Suche">
      </form>
    </aside>
    <footer id="about">
      <p>© 2012 – Paul Vorbach.
        <a href="http://paul.vorba.ch/">Kontakt</a>.</p>
    </footer>
  </body>
</html>
