<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>How to build Tesseract 3.03 with Visual Studio 2013 | vorba.ch</title>
    <link rel="stylesheet" href="/res/diego.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" href="/favicon.ico">
    <link rel="alternate" type="application/atom+xml" href="/feed.xml"
      title="Article feed">
    <link rel="alternate" type="application/atom+xml" href="/comment-feed.xml"
      title="Comment feed">
    <meta name="author" content="Paul Vorbach">

    <meta name="keywords" content="english, howto, tesseract, ocr, c++, c, cygwin, visual-studio">

  </head>
  <body id="top">
    <nav id="nav">
      <ol id="path">
        <li><a href="/">vorba.ch</a>

        <li><a href="/archive.html#2014">2014</a>

        <li>tesseract-3.03-vs2013.html

      </ol>
      <ol id="access">
        <li><a href="#top" title="To the top" id="back" accesskey="t">↑</a>
        <li><a href="#nav">Navigation</a>
        <li><a href="#content">Content</a>
        <li><a href="#comments" accesskey="c">Comments</a>
      </ol>
      <form id="search" action="/search.html" method="GET">
        <input type="search" name="s" accesskey="s" placeholder="Search">
      </form>
    </nav>
    <article id="content">
      <header>
        <h1>How to build Tesseract 3.03 with Visual Studio 2013</h1>

        <figure class="teaser">
          <img src="build2.jpg">
        </figure>

        <p class="meta">by <span class="author">Paul Vorbach</span>, <span class="created">2014-04-10</span>
          &ndash; <a href="#comments">Comments</a></p>
      </header>
      <section>
        <p><a href="tesseract-cygwin.html">Previously</a> I wrote about how to compile Tesseract OCR using Cygwin. While this is nice if you want to compile Tesseract for your own system where you can install Cygwin on your own, compiling with Visual Studio is better if you intend to distribute the compiled package so users don’t have to install Cygwin.</p>
<p>Compiling Tesseract 3.02.02 with Visual C++ 2008 (Express) is <a href="http://tesseract-ocr.googlecode.com/svn/trunk/vs2008/doc/setup.html">covered by the documentation</a> whereas compiling Tesseract 3.03 isn’t covered at all, though.</p>
<p>Unfortunately newer versions of Tesseract also require a new version of <a href="http://www.leptonica.org/">Leptonica</a>, a C library for image processing and image analysis applications, which in turn requires new versions of zlib, libpng, libtiff, libjpeg and giflib. Tesseract provides pre-compiled versions of Leptonica, which prevents you from having to collect and set up projects for all of these libraries in Visual Studio, which can be a tedious task.</p>
<p>Yesterday I found a project on GitHub that includes a Visual Studio solution file for all dependencies required to compile Tesseract 3.03: <a href="https://github.com/charlesw/tesseract-vs2012">charlesw/tesseract-vs2012</a>. While following the build instructions there, I stumpled over several build errors, which I could easily resolve by removing a definition. The necessary change is in <a href="https://github.com/pvorb/tesseract-vs2013">my fork</a> of the repository mentioned above.</p>
<p>This is a write-up of all steps that are required to compile Tesseract 3.03 with Visual Studio 2013.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ol style="list-style-type: decimal">
<li>Install <a href="http://git-scm.com/">Git</a>.</li>
<li>Install SVN. There are many versions of SVN. You can, for example, install the binary package from <a href="http://www.sliksvn.com/en/download">SlickSVN</a> for free.</li>
<li>Install <a href="http://www.visualstudio.com/downloads/download-visual-studio-vs">Visual Studio 2013 for Windows Desktop</a> (the Express version will be enough). You don’t need the optional features except for “Microsoft Foundation Classes for C++”.</li>
</ol>
<h2 id="building-the-dependencies">Building the dependencies</h2>
<ol style="list-style-type: decimal">
<li>Create a directory where you want to compile Tesseract. In this document, I’ll assume it’s <code>C:\Tesseract-Build\</code>.</li>
<li><p>Open a CMD prompt and change to that directory.</p>
<pre><code>cd \Tesseract-Build\</code></pre></li>
<li><p>Clone the dependencies repository from GitHub.</p>
<pre><code>git clone git://github.com/pvorb/tesseract-vs2013.git</code></pre></li>
<li>Open the “VS 2013 Developer Command Prompt”. (It can be found in the Start Menu.)</li>
<li><p>Change to the newly cloned repository.</p>
<pre><code>cd \Tesseract-Build\tesseract-vs2013</code></pre></li>
<li><p>Build the dependencies</p>
<pre><code>msbuild build.proj</code></pre></li>
<li><p>You can close the “VS 2013 Developer Command Prompt”.</p></li>
</ol>
<h2 id="building-tesseract">Building Tesseract</h2>
<ol style="list-style-type: decimal">
<li>Re-open the first command prompt and ensure it’s still in <code>C:\Tesseract-Build\</code>.</li>
<li><p>Get the latest source from SVN.</p>
<pre><code>svn checkout http://tesseract-ocr.googlecode.com/svn/trunk/ tesseract-ocr</code></pre></li>
<li><p>Change to the newly checked-out repository.</p>
<pre><code>cd tesseract-ocr</code></pre></li>
<li><p>Apply the patch provided in <code>tesseract-vs2013</code>.</p>
<pre><code>svn patch ..\tesseract-vs2013\vs2013+64bit_support.patch</code></pre></li>
<li><p>Copy both directories in <code>C:\Tesseract-Build\tesseract-vs2013\release\</code> to <code>C:\Tesseract-Build\</code>. Now you should have</p>
<ul>
<li><code>C:\Tesseract-Build\include\</code></li>
<li><code>C:\Tesseract-Build\lib\</code></li>
</ul></li>
<li>Open <code>C:\Tesseract-Build\tesseract-ocr\vs2013\tesseract.sln</code> with Visual Studio 2013.</li>
<li><p>Press <code>F7</code> on your keyboard. Both <code>libtesseract303</code> and <code>tesseract</code> should compile without errors.</p></li>
</ol>
<p>The Visual Studio solution file contains configurations for dynamic and static compilation as well as debugging and release configurations for both 32-Bit and 64-Bit. Select whichever configuration you need and recompile with <code>F7</code>.</p>
<p>You can find the compiled binaries in <code>C:\Tesseract-Build\tesseract-ocr\vs2013\bin\</code>.</p>

      </section>
      <footer class="meta">
        <p>Tags:

          <a href="/tag/english.html">english</a> ·

          <a href="/tag/howto.html">howto</a> ·

          <a href="/tag/tesseract.html">tesseract</a> ·

          <a href="/tag/ocr.html">ocr</a> ·

          <a href="/tag/c++.html">c++</a> ·

          <a href="/tag/c.html">c</a> ·

          <a href="/tag/cygwin.html">cygwin</a> ·

          <a href="/tag/visual-studio.html">visual-studio</a> 

        </p>

      </footer>
    </article>
    <section id="comments">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'vorbach';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the comments.</noscript>
    </section>
    <footer id="about">
      <p>© 2014 – Paul Vorbach.
        <a href="http://paul.vorba.ch/">Contact</a>.</p>
    </footer>
  </body>
</html>
